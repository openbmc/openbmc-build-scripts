{
  "comments": [
    {
      "key": {
        "uuid": "dfc799a4_05c3a7f9",
        "filename": "scripts/unit-test.py",
        "patchSetId": 1
      },
      "lineNbr": 1030,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-04-14T20:59:07Z",
      "side": 1,
      "message": "`meson_version` appears to be optionally defined in a meson.build file, so a project that doesnt have it defined, but is using \u003e\u003d0.57 while running this would fail with the exception, correct?",
      "range": {
        "startLine": 1029,
        "startChar": 12,
        "endLine": 1030,
        "endChar": 71
      },
      "revId": "37e511353cf476385cfff8f30a79d260e4fc2d4e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fb0fed93_aa817983",
        "filename": "scripts/unit-test.py",
        "patchSetId": 1
      },
      "lineNbr": 1030,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-04-14T21:01:15Z",
      "side": 1,
      "message": "Looks like the `meson-info/meson-info.json` file that generated after doing \"meson build\" contains the meson version, but in this format for example:\n\n\"meson_version\": {\"full\": \"0.55.1\", \"major\": 0, \"minor\": 55, \"patch\": 1}",
      "parentUuid": "dfc799a4_05c3a7f9",
      "range": {
        "startLine": 1029,
        "startChar": 12,
        "endLine": 1030,
        "endChar": 71
      },
      "revId": "37e511353cf476385cfff8f30a79d260e4fc2d4e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1e4b78d9_e91acdef",
        "filename": "scripts/unit-test.py",
        "patchSetId": 1
      },
      "lineNbr": 1030,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2021-04-14T21:05:37Z",
      "side": 1,
      "message": "\u003e so a project that doesnt have it defined, but is using \u003e\u003d0.57 while running this would fail with the exception, correct?\n\nCorrect.  If someone specifies C++20 and they *don\u0027t* specify at least Meson 0.57 in their meson.build, I want it to fail.  It doesn\u0027t matter what version of meson we happen to be running during the test.\n\nC++20 will always work for us because we\u0027re running a new enough meson.  But, a user downloading one of these repositories and attempting to compile it with their native distro will get a cryptic error about meson not recognizing the C++20 option.  It is far better to simply halt them for running an older version of Meson and let meson tell them it is too old.",
      "parentUuid": "fb0fed93_aa817983",
      "range": {
        "startLine": 1029,
        "startChar": 12,
        "endLine": 1030,
        "endChar": 71
      },
      "revId": "37e511353cf476385cfff8f30a79d260e4fc2d4e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8b67a14_950d6639",
        "filename": "scripts/unit-test.py",
        "patchSetId": 1
      },
      "lineNbr": 1030,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-04-14T21:12:53Z",
      "side": 1,
      "message": "Right, but if a repo\u0027s meson.build file *does not* provide a \"meson_version\", wont we get this failure still since this if would succeed with meson_version \u003d None?\n\nIf that\u0027s the case, maybe the exception should note that \"meson_version\" needs to be given in the meson.build file.",
      "parentUuid": "1e4b78d9_e91acdef",
      "range": {
        "startLine": 1029,
        "startChar": 12,
        "endLine": 1030,
        "endChar": 71
      },
      "revId": "37e511353cf476385cfff8f30a79d260e4fc2d4e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d61b778f_6a9989fc",
        "filename": "scripts/unit-test.py",
        "patchSetId": 1
      },
      "lineNbr": 1030,
      "author": {
        "id": 1000029
      },
      "writtenOn": "2021-04-14T21:18:32Z",
      "side": 1,
      "message": "For example, phosphor-power currently has:\n```\nproject(\n    \u0027phosphor-power\u0027,\n    \u0027cpp\u0027,\n    default_options: [\n        \u0027warning_level\u003d3\u0027,\n        \u0027werror\u003dtrue\u0027,\n        \u0027cpp_std\u003dc++17\u0027,\n        \u0027prefix\u003d/usr\u0027\n    ],\n    license: \u0027Apache-2.0\u0027,\n    version: \u00271.0\u0027,\n)\n```\nand could update to using c++20 without adding \"meson_version\":\n```\nproject(\n    \u0027phosphor-power\u0027,\n    \u0027cpp\u0027,\n    default_options: [\n        \u0027warning_level\u003d3\u0027,\n        \u0027werror\u003dtrue\u0027,\n        \u0027cpp_std\u003dc++20\u0027,\n        \u0027prefix\u003d/usr\u0027\n    ],\n    license: \u0027Apache-2.0\u0027,\n    version: \u00271.0\u0027,\n)\n```\nThen wouldnt we see phosphor-power fail CI since its using c++20 now, but didnt explicitly add \"meson_version\" to its meson.build file and our CI has meson \u003e\u003d0.57?",
      "parentUuid": "f8b67a14_950d6639",
      "range": {
        "startLine": 1029,
        "startChar": 12,
        "endLine": 1030,
        "endChar": 71
      },
      "revId": "37e511353cf476385cfff8f30a79d260e4fc2d4e",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    }
  ]
}