{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9216a955_8a75c72b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 14,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-20T03:13:51Z",
      "side": 1,
      "message": "Based on discussion in Discord, I highly suspect in the current state this image is actually not useful.  Part of the \"build\" is to create a user inside the Docker container that matches the username of whoever ran the build script.  If you\u0027re creating a common Docker registry for your whole team, nobody is going to exist inside the container and you\u0027re going to get an error like:\n\n```\ndocker: Error response from daemon: linux spec user: unable to find user kbuilder: no matching entries in passwd file.\n```\n\nHave you confirmed that putting the image into a registry is actually useful and works?",
      "revId": "d3cf7ee4a0d1415ba8a671774d2f24ddcd4bf14b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "63b89e8b_a33fde7a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 14,
      "author": {
        "id": 1000682
      },
      "writtenOn": "2022-04-20T03:46:30Z",
      "side": 1,
      "message": "Hello Patrick, Google has been used this method for almost 2 years now. This change is just to upstream that 2 year-old Google internal patch :)  \n\nTo workaround that error, we are doing `sudo -E \"${BUILD_SCRIPTS_PATH_PREFIX}\"/run-unit-test-docker.sh`",
      "parentUuid": "9216a955_8a75c72b",
      "revId": "d3cf7ee4a0d1415ba8a671774d2f24ddcd4bf14b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cebcf357_2b4143e2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 14,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2022-04-21T16:42:32Z",
      "side": 1,
      "message": "\u003e To workaround that error, we are doing `sudo -E \"${BUILD_SCRIPTS_PATH_PREFIX}\"/run-unit-test-docker.sh`\n\nI\u0027m slightly hesitant to merge a commit that only works when people do something that isn\u0027t great behavior.  Our scripts haven\u0027t really been audited for safety under `sudo` so I really don\u0027t want that documented anywhere.\n\nCan you give me until Wed. next week to look into how to make our docker scripts better for running as arbitrary users?",
      "parentUuid": "63b89e8b_a33fde7a",
      "revId": "d3cf7ee4a0d1415ba8a671774d2f24ddcd4bf14b",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4"
    }
  ]
}